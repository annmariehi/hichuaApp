<!--pets.hbs-->

{{!-- script to highlight current tab in nav bar --}}
<script>
  var element = document.getElementById("petsNav");
  element.classList.add("active");
</script>

<div class="pageTitle">
    <h2>Pets</h2>
</div>
<div class="tables">


{{!-- Pets Table --}}
<table id="pets-table">
    <thead>
        <tr>
            <th>Pet ID</th>
            <th>Pet Name</th>
            <th>Owner</th>
            <th>Pet Type</th>
            <th>Breed</th>
            <th>Birthdate</th>
            <th>delete</th>
        </tr>
    </thead>
    <tbody>
        {{#each data}}
        <tr data-value={{this.petID}}>
            <td>{{this.petID}}</td>
            <td>{{this.pet_name}}</td>
            <td>{{this.ownerID}}</td>
            <td>{{this.pet_typeID}}</td>
            <td>{{this.breed}}</td>
            <td>{{formatDate this.birthdate}}</td>
            <td class="deleteCell"><button class="deleteButton" onclick="deletePet({{this.petID}})"><i class="fa-solid fa-trash fa-2x"></i></button>
        </tr>
        {{/each}}
    </tbody>
</table>
<script src="./js/delete_pet.js"></script>

<div class="searchSpace"></div>
{{!-- Search Pet Form --}}
<form class="search" id="search-pet" method='GET' action='/pets'>

    <input type="text" placeholder="Search by Pet's Name..." name="pet_name" id="input-pet_name-search">

    <input class="search" type="submit" value="search">
    <a href='/pets'><button>Reset</button></a>

</form>
</div>


<div class="forms">
{{!-- Add Pet Form --}}
<form class="addForm" id="add-pet-form" method="POST" action="/add-pet-form">
<legend>Add a Pet</legend>
<p>please enter info and click submit</p>
    <label for="input-pet_name">Pet's Name: </label>
    <input required type="text" placeholder="Pet Name..." name="input-pet_name" id="input-pet_name">
    <label for="input-owner_name">Owner's Name: </label>
    <select required name="input-ownerID" id="input-ownerID">
        <option disabled selected value="">Select Owner</option>
        {{#each owners}}
        <option value="{{this.ownerID}}">{{this.owner_name}}</option>
        {{/each}}
    </select>
    <label for="input-pet_typeID">Pet Type: </label>
    <select required name="input-pet_typeID" id="input-pet_typeID">
        <option class="placeholder" disabled selected value="">Select Pet Type</option>
        {{#each pet_types}}
        <option value="{{this.pet_typeID}}">{{this.type_name}}</option>
        {{/each}}
    </select>

    <label for="input-breed">Breed: </label>
    <input type="text" placeholder="Breed..." name="input-breed" id="input-breed">

    <label for="input-birthdate">Birthdate: </label>
    <input required type="date" name="input-birthdate" id="input-birthdate">

    <input type="submit" value="Add Pet">
</form>


{{!-- Update Pet Form --}}
    <form id="update-pet-form">
        <legend>Update a Pet</legend>
        <fieldset>
<p>To update a Pet, select their name from the drop down menu.</p>

    <label for="input-pet_name">Pet's Name: </label>
    <select required name="input-pet_name" id="petSelect">
        <option disabled selected value="">Select a Pet</option>
        {{#each data}}
        <option value="{{this.petID}}">{{this.pet_name}}</option>
        {{/each}}
    </select>

    <label for="input-pet_type">Pet Type: </label>
    <select required name="input-pet_type" id="input-pet_type-update">
        <option disabled selected value="">select pet type</option>
        {{#each pet_types}}
        <option value="{{this.pet_typeID}}">{{this.type_name}}</option>
        {{/each}}
    </select>
    <input type="submit" value="Update Pet">
</form>
</fieldset>
<script src="./js/update_pet.js"></script>
</div>

